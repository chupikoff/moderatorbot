# moderatorbot
Базовый бот для телеграм чата.

На текущий момент бот умеет только отдавать случайные картинки и музыку из ранее наполненных директорий.

Бот умеет в докер:
1) подкидываем файл с токеном с именем settings.py (содержимое файла API_KEY = "token") в директорию с проектом;
2) Собираете образ из Dockerfile;
3) Запускаете контейнер с монтированием директорий:

Бот отдаёт контент из директории /opt

docker run -d -v {что монтировать}:{/opt/(audio, images, spb)} {image_name:version}.

/start - проверить работу бота (должен отдать "чё надо")
/image - случайная картинка из наполненной и подключенной к контейнеру директории
/spb   - случайный пранк из наполненной и подключенной к контейнеру директории

==============================================================

Можно обернуть контейнер в systemd:

1. Создать файл /etc/systemd/system/docker.{service_name}.service
2. Наполнить файл:

[Unit]
Description=Moderatorbot Service
After=docker.service
Requires=docker.service

[Service]
TimeoutStartSec=0
Restart=always
ExecStart=/usr/bin/docker run --rm --name %n \
    -v {что монтировать}:/opt/images \
    -v {что монтировать}:/opt/spb \
    -v {что монтировать}:/opt/audio \
    {image_name:version}

[Install]
WantedBy=default.target

3. sudo service docker.{service_name} start

==============================================================

Ветка бота testing используется с другим токеном

==============================================================

Далее необходимо реализовать:

1) Приветствие нового юзера в чате;
2) Административные функции (бан, мут):
a) мут на время;
b) мут перманентно;
c) ограничить юзеру отправлять определенный тип сообщения (gif, media, стаканы);
3) Реагирование на триггер слова:
a) Собрать словарь слов;
4) Вести статистику пользователя:
a) количество отправленных слов;
b) поздравлять юзеров после достижения количества отправленных слов;
5) Файлопомойка локальных движух и мемов:
a) Скармливать боту контент с #тегом; 
b) Бот по команде выдавал список сохраненных им тегов и по выбранному тегу выдавал контент;
6) Развлекать:
a) Растить что угодно, надоела куча спамящих ботов;
b) Создавать стикеры из изображений.

Пока всё, дальше будет дорабатываться.
